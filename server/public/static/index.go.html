  Copyright 2020 - Offen Authors <hioffen@posteo.de>
  SPDX-License-Identifier: Apache-2.0

{{ define "index" }}
<!DOCTYPE html>
<html lang="{{ .lang }}" dir="ltr">
  <head>
    <title>Offen Fair Web Analytics</title>
    <link rel="stylesheet" type="text/css" href="/tachyons.min.css">
    {{ template "meta" . }}
    {{ if .rootAccount }}
      {{ if .locale }}
        <script src="/script.js" data-locale="{{ .locale }}" data-use-api data-account-id="{{ .rootAccount }}"></script>
      {{ else }}
        <script src="/script.js" data-use-api data-account-id="{{ .rootAccount }}"></script>
      {{ end }}
    {{ end }}
  </head>
  <body class="bg-washed-yellow">
    <div id="app-host" role="main"></div>
    <script src="{{ rev "/auditorium/vendor.js" .locale }}"></script>
    <script src="{{ rev "/auditorium/index.js" .locale }}"></script>
    <noscript>
      <div class="f5 roboto dark-gray">
        <div class="w-100 h3 bg-black-05">
          <div class="mw8 center flex ph3 pt2">
            <a href="/" class="dim">
              <img src="/offen-icon-black.svg" alt="Offen logo" width="37" height="40" class="ma0 mt1 mr3">
            </a>
            <h1 class="f3 f2-ns normal ma0 mt2 mt1-ns">Offen Fair Web Analytics</h1>
          </div>
        </div>
        <div class="mw8 center hp0 ph3-ns">
          <p class="dib pa2 br2 ma0 mt3 ml3 ml0-ns mr3 mr0-ns bg-light-yellow">
            {{ __ "It seems like your browser has JavaScript disabled." }}
          </p>
          <div class="w-100 ph3 ph4-ns pv4 mt4 mb4 bt bb ba-ns br0 br2-ns b--black-10 bg-white">
            <div class="w-100 w-90-ns mr3">
              <h3 class="f4 normal ma0 mb3">
                {{ __ "Offen Fair Web Analytics requires JavaScript to function properly." }}
              </h3>
              <p class="ma0 mb2">
                {{ __ "Offen Fair Web Analytics is installed on the website that linked you here." }}
              </p>
              <p class="ma0">
                {{ __ "For Offen Fair Web Analytics to work, your browser has to allow JavaScript and accept cookies. Please change your browser settings and reload this page. Subsequently, Offen Fair Web Analytics will ask for your consent before collecting any usage data." }}
              </p>
            </div>
          </div>
          <div class="mw8 center flex flex-wrap flex-column flex-row-ns justify-between f6 lh-title ph3 pb5 pb7-ns mid-gray">
            <div class="w-100">
              <p class="ma0 mb0">
                <a href="https://www.offen.dev/" class="b link dim mid-gray" target="_blank" rel="noreferrer noopener">{{ __ "Offen Fair Web Analytics" }}</a>
              </p>
            </div>
            <div class="w-100">
              <p class="ma0 tl tr-ns">
                {{ __ "Found an issue, need help or want to add something?<br><a href=\"https://twitter.com/hioffen\" class=\"%s\" target=\"_blank\" rel=\"noreferrer noopener\">Tweet,</a> <a href=\"mailto:hioffen@posteo.de\" class=\"%s\" target=\"_blank\">email</a> or file an <a href=\"https://github.com/offen/offen\" class=\"%s\" target=\"_blank\" rel=\"noreferrer noopener\">issue.</a>" "b link dim mid-gray" "b link dim mid-gray" "b link dim mid-gray" }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </noscript>
  </body>
</html>
{{ end }}

  The demo intro site is intentionally not localized as it is targeting
  operators only.

{{ define "intro" }}
<!DOCTYPE html>
<html lang="{{ .lang }}" dir="ltr">
<head>
  <meta charset="utf-8">
    <title>An intro to Offen Fair Web Analytics</title>
    {{ template "meta" . }}
    <link rel="stylesheet" type="text/css" href="/intro.css">
    {{ with .demoAccount }}
      <script src="/script.js" data-account-id="{{ . }}"></script>
    {{ end }}
</head>
<body>
  <div class="container">
    <div class="head">
      <h1>Good to see you.</h1>
    </div>
    <div class="main">
      <div class="article">
        <h2>Welcome to your Offen Fair Web Analytics demo</h2>
        <p>
          This page is intended to give you some guidance on what you can do, now that you have your Offen Fair Web Analytics demo up and running.
        </p>
        <p>
          For this demo a random and temporary set of usage data was generated that you can now explore. Go ahead and take a look at the displayed metrics and review the backend functionality. Please note that this demo cannot send emails, so you will not be able invite other users or reset your password in this context.
        </p>
        <p>
          Log in to the Auditorium using the following credentials:
        </p>
        <hr>
        <p>
          Username: <em>demo@offen.dev</em>
        </p>
        <p>
          Password: <em>demo</em>
        </p>
        <hr>
        <a data-role="button" href="/login/" rel="noopener" target="_blank">
          Log in
        </a>
      </div>
      <div class="article">
        <h2>About the banner on this page</h2>
        <p>
          Offen Fair Web Analytics collects data only after opt in. To do so, click <em>Yes please</em> on the bottom banner you should be seeing right now titled <em>Continue with transparent analytics</em>.
        </p>
        <p>
          If you do opt in, the usage data you generated will be added to the generated set of demo data, so go ahead and see how your usage reflects with the statistics.
        </p>
        <p>
          In case you have opted in, you can opt out again in the <a href="/auditorium/" rel="noopener" target="_blank">Auditorium for users.</a>
        </p>
        <p>
          When you are opted out, delete all cookies for this page to display the banner again.
        </p>
      </div>
      <div class="article">
        <h2>What your users see</h2>
        <p>
          The unique feature of Offen Fair Web Analytics is that your users can see and manage their own data.
        </p>
        <p>
          Put yourself in the perspective of your users. Use the banner to opt in, then head to the <a href="/auditorium/" rel="noopener" target="_blank">Auditorium for users.</a>
        </p>
      </div>
    </div>
    <div class="side">
      <div class="article">
        <h2>Take things further</h2>
        <p>
          Want to test drive Offen Fair Web Analytics in production? You find all necessary material to install and self host on our designated <a href="https://www.offen.dev/get-started/" rel="noopener" target="_blank">Get started page.</a>
        </p>
      </div>
      <div class="article">
        <h2>Learn more</h2>
        <p>
          Want to know more about how to install and run Offen Fair Web Analytics? Like to contribute as a developer? Have a look at our detailed documentation. <a href="https://docs.offen.dev/" rel="noopener" target="_blank">Read the docs.</a>
        </p>
      </div>
      <div class="article">
        <h2>Feedback welcome</h2>
        <p>
          No matter if you had difficulties with the installation or want to share your enthusiasm: <a href="mailto:hioffen@posteo.de" rel="noopener">Get in touch.</a>
        </p>
      </div>
    </div>
    <div class="foot">
      <h3><a href="https://www.offen.dev/" rel="noopener" target="_blank">Offen Fair Web Analytics</a></h3>
    </div>
</body>
</html>
{{ end }}

{{ define "meta" }}
  {{ $description := __ "Offen Fair Web Analytics is an open alternative to common web analytics tools. Operators gain insights while users have full access to their data. Lightweight, self hosted and free." }}
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="{{ $description }}">
  <meta name="referrer" content="no-referrer">
  <meta property="og:description" content="{{ $description }}">
  <meta property="og:image" content="/offen-logo-yellow.jpg">
  <link rel="stylesheet" type="text/css" href="/fonts.css">
  <link rel="preload" href="/fonts/roboto-v20-latin-regular.woff2" as="font" crossorigin="anonymous">
  <link rel="preload" href="/fonts/roboto-v20-latin-700.woff2" as="font" crossorigin="anonymous">
{{ end }}

{{ define "vault" }}
  <!DOCTYPE html>
  <html>
      <head>
          <title>Offen Fair Web Analytics vault</title>
          <meta charset="utf-8">
      </head>
      <body>
          <div id="host"></div>
          <script src="{{ rev "/vault/vendor.js" .locale }}"></script>
          <script src="{{ rev "/vault/index.js" .locale }}"></script>
          {{ with .accountStyles }}
            <style>
              {{ . }}
            </style>
          {{ end }}
      </body>
  </html>
{{ end }}

{{ define "error" }}
  <!DOCTYPE html>
  <html>
      <head>
          <title>Error!</title>
          <meta charset="utf-8">
      </head>
      <body>
        <h1>An error occured: {{ .message }}</h1>
      </body>
  </html>
{{ end }}
